import r,{useRef as e,useEffect as t}from"react";import{node as o,func as i}from"prop-types";import{copyComponentRef as n}from"../../utility/react/react.es.js";import{readResizeObserverEntry as s}from"../../utility/rect/rect.es.js";import{ResizeObserver as c}from"../../utility/mocks/mocks.es.js";import{noop as m}from"../../utility/memory/memory.es.js";var u=function(o){var i=o.children,m=o.onResize,u=r.Children.only(i),l=e(),f=e(new c((function(r){m(s(r[0]))})));return t((function(){var r=f.current;return r.observe(l.current),function(){return r.disconnect()}}),[]),r.cloneElement(u,{ref:n(u.ref,l)})};u.propTypes={children:o,onResize:i},u.defaultProps={children:null,onResize:m};export{u as default};
