"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../external/@babel/runtime/helpers/esm/extends.js"),t=require("../../external/@babel/runtime/helpers/esm/defineProperty.js"),r=require("../../external/@babel/runtime/helpers/esm/slicedToArray.js"),a=require("../../external/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=require("react"),s=require("react-dom"),o=require("classnames"),c=require("./Stackable.context.js"),l=require("./Stackable.constants.js"),u=require("./Stackable.props.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./Stackable2.js");var i=d(n),p=d(s),f=d(o),b=["zIndex","target","parent","children","style","className"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?m(Object(a),!0).forEach((function(r){t.default(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=n.forwardRef((function(t,s){var o,u=t.zIndex,d=t.target,m=t.parent,y=t.children,O=t.style,h=t.className,v=a.default(t,b),P=n.useContext(c.default),q=P.depth,g=P.ancestors,x=P.zIndex,N=null!==(o=null!=u?u:x)&&void 0!==o?o:l.DEFAULT_Z_INDEX,k=n.useState(""),S=r.default(k,2),_=S[0],w=S[1],D=f.default("stackable depth-".concat(q),h);return n.useEffect((function(){var e="";if(m.current)for(var t=m.current.parentNode;t&&t.className&&"BODY"!==t.tagName;)e=".".concat(t.className.split(" ").join(".")).concat(e?" "+e:""),t=t.parentNode;w(g+e)}),[w,g,m]),p.default.createPortal(i.default.createElement(c.default.Provider,{value:{zIndex:N+1,depth:q+1,ancestors:"".concat(_," .").concat(D.split(" ").join("."))}},i.default.createElement("div",e.default({},v,{"data-ancestors":_,className:f.default("stackable depth-".concat(q),h),style:j(j({},O),{},{zIndex:N}),ref:s}),y)),d)}));y.displayName="Stackable",y.propTypes=u.propTypes,y.defaultProps=u.defaultProps,exports.default=y;
