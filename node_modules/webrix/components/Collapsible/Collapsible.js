"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../external/@babel/runtime/helpers/esm/extends.js"),t=require("../../external/@babel/runtime/helpers/esm/defineProperty.js"),r=require("../../external/@babel/runtime/helpers/esm/slicedToArray.js"),n=require("../../external/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=require("react"),i=require("classnames"),s=require("./Collapsible.props.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("./Collapsible2.js");var u=l(o),a=l(i),c=["expanded","children","onTransitionEnd"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){t.default(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(t){var i=t.expanded,s=t.children,l=t.onTransitionEnd,p=n.default(t,c),f=o.useState({motion:"",height:i?"auto":0}),b=r.default(f,2),m=b[0],h=m.motion,j=m.height,y=b[1],g=!!u.default.Children.count(s),O=o.useRef(),P=o.useRef(),v=o.useCallback((function(e){"transform"===e.propertyName&&(y((function(e){return d(d({},e),{},{motion:"",height:e.height?"auto":0})})),l(e))}),[l]);return o.useEffect((function(){P.current&&y({height:O.current.clientHeight,motion:i?"expanding":"collapsing"}),P.current=!0}),[i]),o.useEffect((function(){document.body.scrollTop,"collapsing"===h&&y((function(e){return d(d({},e),{},{height:0})}))}),[h]),u.default.createElement("div",e.default({},p,{className:a.default("collapsible",h,{expanded:i&&!h},p.className)}),g&&u.default.createElement("div",{className:"content-wrapper",onTransitionEnd:v,style:{height:j}},u.default.createElement("div",{className:"content",ref:O},s)))};f.propTypes=s.propTypes,f.defaultProps=s.defaultProps,exports.Collapsible=f,exports.default=f;
