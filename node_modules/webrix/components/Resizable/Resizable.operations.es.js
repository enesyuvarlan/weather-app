import t from"../../external/@babel/runtime/helpers/esm/defineProperty.es.js";import{clamp as e}from"../../utility/number/number.es.js";import{noop as n}from"../../utility/memory/memory.es.js";import{isEqual as i}from"../../utility/object/object.es.js";function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h=function(t){return r({onBeginResize:n,onResize:n,onEndResize:n},t)},f=function(t){return h({onBeginResize:function(e,n){var i=t.current.getBoundingClientRect(),o=i.left,r=i.top,h=i.width,f=i.height;n.next={left:o,top:r,width:h,height:f},n.initial={left:o,top:r,width:h,height:f}},onResize:function(t,e){var n=t.delta,i=e.initial,o=i.left,r=i.top,h=i.width,f=i.height;e.next={width:Math.max(h+n.width,0),height:Math.max(f+n.height,0),left:o+n.left,top:r+n.top}}})},u=function(){return h({onResize:function(t,e){var n=t.delta,i=e.next,o=e.initial;0!==n.left?i.left=o.left+o.width-i.width:i.left=o.left,0!==n.top?i.top=o.top+o.height-i.height:i.top=o.top}})},c=function(t){return h({onBeginResize:function(e,n){n.max=t.current.getBoundingClientRect()},onResize:function(t,n){var i=t.delta,o=n.initial,r=n.next,h=n.max,f=e(r.width,0,0===i.left?h.left+h.width-o.left:o.left+o.width-h.left),u=e(r.height,0,0===i.top?h.top+h.height-o.top:o.top+o.height-h.top);n.next={left:h.left+f,top:h.top+u,width:f,height:u}}})},a=function(t,e){return h({onResize:function(n,i){var o=i.next,h=o.width,f=o.height;i.next=r(r({},i.next),{},{width:Math.max(h,t),height:Math.max(f,e)})}})},l=function(t,e){return h({onResize:function(n,i){var o=i.next,h=o.width,f=o.height;i.next=r(r({},i.next),{},{width:Math.min(h,t),height:Math.min(f,e)})}})},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return h({onResize:function(i,o){var h=o.next,f=h.width,u=h.height,c=Math.round(f/t)*t,a=Math.round(u/e)*e,l=Math.abs(f-c),p=Math.abs(u-a);o.next=r(r({},o.next),{},{width:l<=n*t/2?c:f,height:p<=n*e/2?a:u})}})},d=function(t){return h({onResize:function(e,n){var i=n.next;i.width/i.height>t?i.height=i.width/t:i.width=i.height*t}})},s=function(t){return h({onBeginResize:g(t),onResize:g(t),onEndResize:g(t)})},g=function(t){return function(e,n){i(n.prev,n.next)||(t(n.next),n.prev=n.next)}},x=function(t){return h({onBeginResize:function(e,n){var i=t.current.getBoundingClientRect();n.reference=i,n.next=r(r({},n.next),{},{left:Math.round(n.next.left-i.left),top:Math.round(n.next.top-i.top)})},onResize:function(t,e){var n=e.reference,i=e.next;e.next=r(r({},e.next),{},{left:Math.round(i.left-n.left),top:Math.round(i.top-n.top)})}})};export{c as contain,h as createOperation,u as lock,l as max,a as min,d as ratio,x as relative,f as resize,p as snap,s as update};
